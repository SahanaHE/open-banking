<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:munit="http://www.mulesoft.org/schema/mule/munit" xmlns:munit-tools="http://www.mulesoft.org/schema/mule/munit-tools"
	xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xsi:schemaLocation="
		http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
		http://www.mulesoft.org/schema/mule/munit http://www.mulesoft.org/schema/mule/munit/current/mule-munit.xsd
		http://www.mulesoft.org/schema/mule/munit-tools  http://www.mulesoft.org/schema/mule/munit-tools/current/mule-munit-tools.xsd">
	<munit:config name="error-scenario-test-suite.xml" />
	<munit:test name="error-scenario-test-suiteTest-=APIKIT:NOT_FOUND" doc:id="7c45d2eb-99f1-4c3d-9aaa-59835c1513f1" >
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="02c745bf-9ee9-4f38-a42d-cb8de4880170" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:NOT_FOUND" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution>
			<try doc:name="Try" doc:id="80892b29-eeb3-42e4-b32d-2f9269075155" >
				<flow-ref doc:name="Flow Reference" doc:id="d571c03a-8efa-4733-8739-caed8c84d3e6" name="openbanking-pisp-dom-exp-api-main" />
				<error-handler >
					<on-error-continue enableNotifications="true" logException="true" doc:name="On Error Continue" doc:id="d6935792-a717-429c-a23d-36e4c9fb7db7" >
						<logger level="INFO" doc:name="Logger" doc:id="77dc1f6d-8841-401f-8333-e54f56234eed" message="ERROR"/>
					</on-error-continue>
				</error-handler>
			</try>
		</munit:execution>
		<munit:validation >
			<munit-tools:verify-call doc:name="Verify call" doc:id="f202767a-999f-4c17-b529-c62cecffa18c" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
			</munit-tools:verify-call>
		</munit:validation>
	</munit:test>
	<munit:test name="error-scenario-test-suiteTest-APIKIT:BAD_REQUEST" doc:id="a81eb037-a013-4388-937b-6f1feb89cbf0" >
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="4807326e-db25-416e-8ee7-fd297875da9b" processor="apikit:router" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:BAD_REQUEST" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<try doc:name="Try" doc:id="06a22844-75d8-4adc-bef4-175ac3dea1a9" >
				<flow-ref doc:name="Flow Reference" doc:id="30721537-e14c-4e06-a626-49a38047f9ae" name="openbanking-pisp-dom-exp-api-main" />
				<error-handler >
					<on-error-continue enableNotifications="true" logException="true" doc:name="On Error Continue" doc:id="02a57427-993c-44ce-a5b5-3ee3739553dc" type="APIKIT:BAD_REQUEST">
						<logger level="INFO" doc:name="Logger" doc:id="18eb5c6c-94ef-465d-837c-46ffe4a379d9" message="ERROR" />
					</on-error-continue>
				</error-handler>
			</try>
		</munit:execution>
		<munit:validation >
			<munit-tools:verify-call doc:name="Verify call" doc:id="810ce94b-9d7c-4460-82c2-771bf65a73d7" processor="apikit:router" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
			</munit-tools:verify-call>
		</munit:validation>
	</munit:test>
	<munit:test name="error-scenario-test-suiteTest-APIKIT:METHOD_NOT_ALLOWED" doc:id="6b1a0fa3-3a4e-4a0c-9402-eed1f617149a" >
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="e417054c-4fd5-4925-ad64-9508909b3f71" processor="apikit:router" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:METHOD_NOT_ALLOWED" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<try doc:name="Try" doc:id="d80b9277-ff6d-4606-8cec-34dec365dfea" >
				<flow-ref doc:name="Flow Reference" doc:id="236a7824-eb47-4077-a556-42a8add5a61d" name="openbanking-pisp-dom-exp-api-main" />
				<error-handler >
					<on-error-continue enableNotifications="true" logException="true" doc:name="On Error Continue" doc:id="04814840-179b-4bf1-82ad-1eab2c73e967" type="APIKIT:METHOD_NOT_ALLOWED">
						<logger level="INFO" doc:name="Logger" doc:id="fdc933b8-1623-4685-9aac-8767b0524777" message="ERROR" />
					</on-error-continue>
				</error-handler>
			</try>
		</munit:execution>
		<munit:validation >
			<munit-tools:verify-call doc:name="Verify call" doc:id="9b730304-727a-4da0-8e54-dbc722db5c4c" processor="apikit:router" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
			</munit-tools:verify-call>
		</munit:validation>
	</munit:test>
	<munit:test name="error-scenario-test-suiteTest-APIKIT:NOT_ACCEPTABLE" doc:id="70513513-666f-4ca3-843b-731d9e7373d8" >
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="57bb87ab-3b74-4755-95a7-fdc4b4f9c261" processor="apikit:router" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:NOT_ACCEPTABLE" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<try doc:name="Try" doc:id="aaec0ba6-6705-4b42-98d2-71e60a748bd3" >
				<flow-ref doc:name="Flow Reference" doc:id="89f271a7-d6cd-4469-8e2c-a03975a884c1" name="openbanking-pisp-dom-exp-api-main" />
				<error-handler >
					<on-error-continue enableNotifications="true" logException="true" doc:name="On Error Continue" doc:id="4faef7f0-33e6-48d4-a03f-392b16ed1809" type="APIKIT:NOT_ACCEPTABLE">
						<logger level="INFO" doc:name="Logger" doc:id="e15d5a08-b698-4c23-92e3-0464f44a674b" message="ERROR" />
					</on-error-continue>
				</error-handler>
			</try>
		</munit:execution>
		<munit:validation >
			<munit-tools:verify-call doc:name="Verify call" doc:id="f867e118-e547-430c-a424-1f2c6b6dcaff" processor="apikit:router" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
			</munit-tools:verify-call>
		</munit:validation>
	</munit:test>
	<munit:test name="error-scenario-test-suiteTest-APIKIT:UNSUPPORTED_MEDIA_TYPE" doc:id="aa9ed064-3f46-4234-98b9-1f0e48edbebf" >
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="243cfe3f-9195-4219-8fab-0e684bc26397" processor="apikit:router" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:UNSUPPORTED_MEDIA_TYPE" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<try doc:name="Try" doc:id="7dc1c3e7-2b78-49f9-a600-ee56e8d09738" >
				<flow-ref doc:name="Flow Reference" doc:id="059629a5-4c9a-4bc4-b770-caec1f581fa7" name="openbanking-pisp-dom-exp-api-main" />
				<error-handler >
					<on-error-continue enableNotifications="true" logException="true" doc:name="On Error Continue" doc:id="30b36400-03bd-40bc-8591-fd03fe12cc6f" type="APIKIT:UNSUPPORTED_MEDIA_TYPE">
						<logger level="INFO" doc:name="Logger" doc:id="7cb76e0a-6a7e-4daf-80c4-e5e81366082c" message="ERROR" />
					</on-error-continue>
				</error-handler>
			</try>
		</munit:execution>
		<munit:validation >
			<munit-tools:verify-call doc:name="Verify call" doc:id="c970924e-3bcc-4e44-a8a0-c8a45d4820b8" processor="apikit:router" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
			</munit-tools:verify-call>
		</munit:validation>
	</munit:test>
	<munit:test name="error-scenario-test-suiteTest-=APIKIT:NOT_IMPLEMENTED" doc:id="8ca924d8-1d61-4057-a92d-e501e0088371" >
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="ddcb9ab4-81f8-4ae3-bc3c-118a934ddee7" processor="apikit:router" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:NOT_IMPLEMENTED" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<try doc:name="Try" doc:id="187cca22-da42-4fdb-8ffa-73acec11f04f" >
				<flow-ref doc:name="Flow Reference" doc:id="1c818d6a-b23a-46c8-8c21-c61c230ee112" name="openbanking-pisp-dom-exp-api-main" />
				<error-handler >
					<on-error-continue enableNotifications="true" logException="true" doc:name="On Error Continue" doc:id="15ec0c6a-11d0-4193-bf95-23b31f15d9df" type="APIKIT:NOT_IMPLEMENTED">
						<logger level="INFO" doc:name="Logger" doc:id="9d8d066e-b5ac-4314-a9ec-b2b0a8130fa4" message="ERROR" />
					</on-error-continue>
				</error-handler>
			</try>
		</munit:execution>
		<munit:validation >
			<munit-tools:verify-call doc:name="Verify call" doc:id="05957b7a-22d1-4625-8d7d-7811ba624948" processor="apikit:router" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
			</munit-tools:verify-call>
		</munit:validation>
	</munit:test>
	<munit:test name="error-scenario-test-suiteTest-=APIKIT:ANY" doc:id="632838c5-c227-475f-943f-6b71b19d51fa" >
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="8f64109d-f46f-449b-9060-dd881ce46d3a" processor="apikit:router" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="ANY" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<try doc:name="Try" doc:id="5b50ca4b-d32c-44d2-9ca2-7c205d863761" >
				<flow-ref doc:name="Flow Reference" doc:id="1878ca3c-e633-4dd2-aac0-c79ae001cf84" name="openbanking-pisp-dom-exp-api-main" />
				<error-handler >
					<on-error-continue enableNotifications="true" logException="true" doc:name="On Error Continue" doc:id="ac4f6827-50d9-4058-850d-f541b3eee037" type="ANY" >
						<logger level="INFO" doc:name="Logger" doc:id="503cc22b-f720-45de-81c2-c6374dc88d63" message="ERROR" />
					</on-error-continue>
				</error-handler>
			</try>
		</munit:execution>
		<munit:validation >
			<munit-tools:verify-call doc:name="Verify call" doc:id="986451d9-ef52-45cd-a7e7-820204bb6218" processor="apikit:router" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="openbanking-pisp-dom-exp-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
			</munit-tools:verify-call>
		</munit:validation>
	</munit:test>


</mule>
